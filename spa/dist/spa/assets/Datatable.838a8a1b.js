import{t as ft,r as Bl,ba as At,i as zl,o as Be,ag as Ze,bb as Tt,ai as Je,bc as Dt,h as o,m as y,am as Pt,j as ze,l as Il,q as X,A as ce,L as rt,H as Pe,s as Re,z as Se,G as Me,C as st,P as Nt,bd as vt,be as Ht,bf as jt,bg as Ut,aN as El,bh as Fl,bi as Ll,a8 as he,aD as Tl,O as T,w as re,bj as Dl,ar as Pl,a5 as Nl,a6 as Hl,as as Qt,T as de,bk as jl,bl as Ul,bm as Rt,bn as Le,bo as Ql,bp as Wl,aH as at,bq as Kl,aI as _e,ak as Wt,br as Zl,N as Jl,bs as Xl,bt as $t,bu as Yl,Q as Kt,F as Gl,E as Z,B as De,y as fe,I as Zt,bv as ea,c as ta,bw as la,aZ as aa,bx as na,p as ua,v as Ae,K as oa,U as ia,$ as ra,aq as nt,Y as ut,aS as sa,J as ca,by as da}from"./index.823240cf.js";import{a as fa,b as va,Q as ma}from"./QItemLabel.221f1f56.js";import{n as Mt,Q as ga,b as ba}from"./QMenu.0fe5bcac.js";function ha(e,a,l){var u=-1,f=e.length;a<0&&(a=-a>f?0:f+a),l=l>f?f:l,l<0&&(l+=f),f=a>l?0:l-a>>>0,a>>>=0;for(var n=Array(f);++u<f;)n[u]=e[u+a];return n}function Sa(e,a,l){var u=e.length;return l=l===void 0?u:l,!a&&l>=u?e:ha(e,a,l)}var ya="\\ud800-\\udfff",xa="\\u0300-\\u036f",Ca="\\ufe20-\\ufe2f",wa="\\u20d0-\\u20ff",ka=xa+Ca+wa,pa="\\ufe0e\\ufe0f",Va="\\u200d",qa=RegExp("["+Va+ya+ka+pa+"]");function Jt(e){return qa.test(e)}function _a(e){return e.split("")}var Xt="\\ud800-\\udfff",Aa="\\u0300-\\u036f",Ra="\\ufe20-\\ufe2f",$a="\\u20d0-\\u20ff",Ma=Aa+Ra+$a,Oa="\\ufe0e\\ufe0f",Ba="["+Xt+"]",ct="["+Ma+"]",dt="\\ud83c[\\udffb-\\udfff]",za="(?:"+ct+"|"+dt+")",Yt="[^"+Xt+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",el="[\\ud800-\\udbff][\\udc00-\\udfff]",Ia="\\u200d",tl=za+"?",ll="["+Oa+"]?",Ea="(?:"+Ia+"(?:"+[Yt,Gt,el].join("|")+")"+ll+tl+")*",Fa=ll+tl+Ea,La="(?:"+[Yt+ct+"?",ct,Gt,el,Ba].join("|")+")",Ta=RegExp(dt+"(?="+dt+")|"+La+Fa,"g");function Da(e){return e.match(Ta)||[]}function Pa(e){return Jt(e)?Da(e):_a(e)}function Na(e){return function(a){a=ft(a);var l=Jt(a)?Pa(a):void 0,u=l?l[0]:a.charAt(0),f=l?Sa(l,1).join(""):a.slice(1);return u[e]()+f}}var Ha=Na("toUpperCase"),ja=Ha;function Ua(e,a,l,u){var f=-1,n=e==null?0:e.length;for(u&&n&&(l=e[++f]);++f<n;)l=a(l,e[f],f,e);return l}function Qa(e){return function(a){return e==null?void 0:e[a]}}var Wa={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ka=Qa(Wa),Za=Ka,Ja=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xa="\\u0300-\\u036f",Ya="\\ufe20-\\ufe2f",Ga="\\u20d0-\\u20ff",en=Xa+Ya+Ga,tn="["+en+"]",ln=RegExp(tn,"g");function an(e){return e=ft(e),e&&e.replace(Ja,Za).replace(ln,"")}var nn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function un(e){return e.match(nn)||[]}var on=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function rn(e){return on.test(e)}var al="\\ud800-\\udfff",sn="\\u0300-\\u036f",cn="\\ufe20-\\ufe2f",dn="\\u20d0-\\u20ff",fn=sn+cn+dn,nl="\\u2700-\\u27bf",ul="a-z\\xdf-\\xf6\\xf8-\\xff",vn="\\xac\\xb1\\xd7\\xf7",mn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gn="\\u2000-\\u206f",bn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ol="A-Z\\xc0-\\xd6\\xd8-\\xde",hn="\\ufe0e\\ufe0f",il=vn+mn+gn+bn,rl="['\u2019]",Ot="["+il+"]",Sn="["+fn+"]",sl="\\d+",yn="["+nl+"]",cl="["+ul+"]",dl="[^"+al+il+sl+nl+ul+ol+"]",xn="\\ud83c[\\udffb-\\udfff]",Cn="(?:"+Sn+"|"+xn+")",wn="[^"+al+"]",fl="(?:\\ud83c[\\udde6-\\uddff]){2}",vl="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+ol+"]",kn="\\u200d",Bt="(?:"+cl+"|"+dl+")",pn="(?:"+$e+"|"+dl+")",zt="(?:"+rl+"(?:d|ll|m|re|s|t|ve))?",It="(?:"+rl+"(?:D|LL|M|RE|S|T|VE))?",ml=Cn+"?",gl="["+hn+"]?",Vn="(?:"+kn+"(?:"+[wn,fl,vl].join("|")+")"+gl+ml+")*",qn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_n="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",An=gl+ml+Vn,Rn="(?:"+[yn,fl,vl].join("|")+")"+An,$n=RegExp([$e+"?"+cl+"+"+zt+"(?="+[Ot,$e,"$"].join("|")+")",pn+"+"+It+"(?="+[Ot,$e+Bt,"$"].join("|")+")",$e+"?"+Bt+"+"+zt,$e+"+"+It,_n,qn,sl,Rn].join("|"),"g");function Mn(e){return e.match($n)||[]}function On(e,a,l){return e=ft(e),a=l?void 0:a,a===void 0?rn(e)?Mn(e):un(e):e.match(a)||[]}var Bn="['\u2019]",zn=RegExp(Bn,"g");function In(e){return function(a){return Ua(On(an(a).replace(zn,"")),e,"")}}var En=function(){return Bl.Date.now()},ot=En,Fn="Expected a function",Ln=Math.max,Tn=Math.min;function Dn(e,a,l){var u,f,n,h,r,d,w=0,v=!1,C=!1,_=!0;if(typeof e!="function")throw new TypeError(Fn);a=At(a)||0,zl(l)&&(v=!!l.leading,C="maxWait"in l,n=C?Ln(At(l.maxWait)||0,a):n,_="trailing"in l?!!l.trailing:_);function g(O){var U=u,N=f;return u=f=void 0,w=O,h=e.apply(N,U),h}function M(O){return w=O,r=setTimeout(R,a),v?g(O):h}function z(O){var U=O-d,N=O-w,ne=a-U;return C?Tn(ne,n-N):ne}function b(O){var U=O-d,N=O-w;return d===void 0||U>=a||U<0||C&&N>=n}function R(){var O=ot();if(b(O))return D(O);r=setTimeout(R,z(O))}function D(O){return r=void 0,_&&u?g(O):(u=f=void 0,h)}function ee(){r!==void 0&&clearTimeout(r),w=0,u=d=f=r=void 0}function F(){return r===void 0?h:D(ot())}function I(){var O=ot(),U=b(O);if(u=arguments,f=this,d=O,U){if(r===void 0)return M(d);if(C)return clearTimeout(r),r=setTimeout(R,a),g(d)}return r===void 0&&(r=setTimeout(R,a)),h}return I.cancel=ee,I.flush=F,I}var Pn=In(function(e,a,l){return e+(l?" ":"")+ja(a)}),Nn=Pn;const Hn={xs:2,sm:4,md:6,lg:10,xl:14};function Et(e,a,l){return{transform:a===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var jn=Be({name:"QLinearProgress",props:{...Ze,...Tt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:l}=ze(),u=Je(e,l.$q),f=Dt(e,Hn),n=o(()=>e.indeterminate===!0||e.query===!0),h=o(()=>e.reverse!==e.query),r=o(()=>({...f.value!==null?f.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=o(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),w=o(()=>Et(e.buffer!==void 0?e.buffer:1,h.value,l.$q)),v=o(()=>`with${e.instantFeedback===!0?"out":""}-transition`),C=o(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${v.value} q-linear-progress__track--${u.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),_=o(()=>Et(n.value===!0?1:e.value,h.value,l.$q)),g=o(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${v.value} q-linear-progress__model--${n.value===!0?"in":""}determinate`),M=o(()=>({width:`${e.value*100}%`})),z=o(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${v.value}`);return()=>{const b=[y("div",{class:C.value,style:w.value}),y("div",{class:g.value,style:_.value})];return e.stripe===!0&&n.value===!1&&b.push(y("div",{class:z.value,style:M.value})),y("div",{class:d.value,style:r.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Pt(a.default,b))}}});const Un=["horizontal","vertical","cell","none"];var Qn=Be({name:"QMarkupTable",props:{...Ze,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Un.includes(e)}},setup(e,{slots:a}){const l=ze(),u=Je(e,l.proxy.$q),f=o(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(u.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>y("div",{class:f.value},[y("table",{class:"q-table"},Il(a.default))])}});const Wn=["align"],Kn={__name:"DatatableColumnHeader",props:{col:Object,pagination:Object},emits:["reload"],setup(e,{emit:a}){const l=e,u=o(()=>l.pagination.sort_by==l.col.field),f={...l.col.classes.reduce((r,d)=>(r[d]=!0,r),{})},n=()=>{!l.col.sortable||(u.value?(l.pagination.descending=!l.pagination.descending,h(!1)):(l.pagination.sort_by=l.col.field,l.pagination.descending=!1,h(!0)))},h=r=>{r&&(l.pagination.page=1),a("reload")};return(r,d)=>(X(),ce("th",{align:e.col.align,class:Nt([f,"text-no-wrap"]),onClick:n},[rt(Pe(e.col.label)+" ",1),e.col.sortable?(X(),Re(Me,{key:0,color:Se(u)?"primary":void 0,name:e.pagination.descending?"expand_less":"expand_more"},null,8,["color","name"])):st("",!0)],8,Wn))}};var Zn=Be({name:"QField",inheritAttrs:!1,props:vt,emits:Ht,setup(){return jt(Ut())}});const Jn={xs:8,sm:10,md:14,lg:20,xl:24};var Xn=Be({name:"QChip",props:{...Ze,...Tt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:l}){const{proxy:{$q:u}}=ze(),f=Je(e,u),n=Dt(e,Jn),h=o(()=>e.selected===!0||e.icon!==void 0),r=o(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),d=o(()=>e.iconRemove||u.iconSet.chip.remove),w=o(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),v=o(()=>{const b=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(b?` text-${b} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(w.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(f.value===!0?" q-chip--dark q-dark":"")}),C=o(()=>{const b=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},R={...b,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||u.lang.label.remove};return{chip:b,remove:R}});function _(b){b.keyCode===13&&g(b)}function g(b){e.disable||(l("update:selected",!e.selected),l("click",b))}function M(b){(b.keyCode===void 0||b.keyCode===13)&&(he(b),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function z(){const b=[];w.value===!0&&b.push(y("div",{class:"q-focus-helper"})),h.value===!0&&b.push(y(Me,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const R=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return b.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Fl(a.default,R))),e.iconRight&&b.push(y(Me,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&b.push(y(Me,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...C.value.remove,onClick:M,onKeyup:M})),b}return()=>{if(e.modelValue===!1)return;const b={class:v.value,style:n.value};return w.value===!0&&Object.assign(b,C.value.chip,{onClick:g,onKeyup:_}),El("div",b,z(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ll,e.ripple]])}}});let Ke=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,Ke=e.scrollLeft>=0,e.remove()}const oe=1e3,Yn=["start","center","end","start-force","center-force","end-force"],bl=Array.prototype.filter,Gn=window.getComputedStyle(document.body).overflowAnchor===void 0?Tl:function(e,a){e!==null&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;const l=e.children||[];bl.call(l,f=>f.dataset&&f.dataset.qVsAnchor!==void 0).forEach(f=>{delete f.dataset.qVsAnchor});const u=l[a];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function Oe(e,a){return e+a}function it(e,a,l,u,f,n,h,r){const d=e===window?document.scrollingElement||document.documentElement:e,w=f===!0?"offsetWidth":"offsetHeight",v={scrollStart:0,scrollViewSize:-h-r,scrollMaxSize:0,offsetStart:-h,offsetEnd:-r};if(f===!0?(e===window?(v.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,v.scrollViewSize+=document.documentElement.clientWidth):(v.scrollStart=d.scrollLeft,v.scrollViewSize+=d.clientWidth),v.scrollMaxSize=d.scrollWidth,n===!0&&(v.scrollStart=(Ke===!0?v.scrollMaxSize-v.scrollViewSize:0)-v.scrollStart)):(e===window?(v.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,v.scrollViewSize+=document.documentElement.clientHeight):(v.scrollStart=d.scrollTop,v.scrollViewSize+=d.clientHeight),v.scrollMaxSize=d.scrollHeight),l!==null)for(let C=l.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(v.offsetStart+=C[w]);if(u!==null)for(let C=u.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(v.offsetEnd+=C[w]);if(a!==e){const C=d.getBoundingClientRect(),_=a.getBoundingClientRect();f===!0?(v.offsetStart+=_.left-C.left,v.offsetEnd-=_.width):(v.offsetStart+=_.top-C.top,v.offsetEnd-=_.height),e!==window&&(v.offsetStart+=v.scrollStart),v.offsetEnd+=v.scrollMaxSize-v.offsetStart}return v}function Ft(e,a,l,u){a==="end"&&(a=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(u===!0&&(a=(Ke===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):l===!0?(u===!0&&(a=(Ke===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function Te(e,a,l,u){if(l>=u)return 0;const f=a.length,n=Math.floor(l/oe),h=Math.floor((u-1)/oe)+1;let r=e.slice(n,h).reduce(Oe,0);return l%oe!==0&&(r-=a.slice(n*oe,l).reduce(Oe,0)),u%oe!==0&&u!==f&&(r-=a.slice(u,h*oe).reduce(Oe,0)),r}const eu={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},tu={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...eu};function lu({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:l,virtualScrollItemSizeComputed:u}){const f=ze(),{props:n,emit:h,proxy:r}=f,{$q:d}=r;let w,v,C,_=[],g;const M=T(0),z=T(0),b=T({}),R=T(null),D=T(null),ee=T(null),F=T({from:0,to:0}),I=o(()=>n.tableColspan!==void 0?n.tableColspan:100);u===void 0&&(u=o(()=>n.virtualScrollItemSize));const O=o(()=>u.value+";"+n.virtualScrollHorizontal),U=o(()=>O.value+";"+n.virtualScrollSliceRatioBefore+";"+n.virtualScrollSliceRatioAfter);re(U,()=>{W()}),re(O,N);function N(){te(v,!0)}function ne(c){te(c===void 0?v:c)}function se(c,S){const k=a();if(k==null||k.nodeType===8)return;const L=it(k,l(),R.value,D.value,n.virtualScrollHorizontal,d.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd);C!==L.scrollViewSize&&W(L.scrollViewSize),Q(k,L,Math.min(e.value-1,Math.max(0,parseInt(c,10)||0)),0,Yn.indexOf(S)>-1?S:v>-1&&c>v?"end":"start")}function ae(){const c=a();if(c==null||c.nodeType===8)return;const S=it(c,l(),R.value,D.value,n.virtualScrollHorizontal,d.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd),k=e.value-1,L=S.scrollMaxSize-S.offsetStart-S.offsetEnd-z.value;if(w===S.scrollStart)return;if(S.scrollMaxSize<=0){Q(c,S,0,0);return}C!==S.scrollViewSize&&W(S.scrollViewSize),p(F.value.from);const j=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(g[k],S.scrollViewSize/2));if(j>0&&Math.ceil(S.scrollStart)>=j){Q(c,S,k,S.scrollMaxSize-S.offsetEnd-_.reduce(Oe,0));return}let $=0,q=S.scrollStart-S.offsetStart,K=q;if(q<=L&&q+S.scrollViewSize>=M.value)q-=M.value,$=F.value.from,K=q;else for(let A=0;q>=_[A]&&$<k;A++)q-=_[A],$+=oe;for(;q>0&&$<k;)q-=g[$],q>-S.scrollViewSize?($++,K=q):K=g[$]+q;Q(c,S,$,K)}function Q(c,S,k,L,j){const $=typeof j=="string"&&j.indexOf("-force")>-1,q=$===!0?j.replace("-force",""):j,K=q!==void 0?q:"start";let A=Math.max(0,k-b.value[K]),Y=A+b.value.total;Y>e.value&&(Y=e.value,A=Math.max(0,Y-b.value.total)),w=S.scrollStart;const ye=A!==F.value.from||Y!==F.value.to;if(ye===!1&&q===void 0){ue(k);return}const{activeElement:Ie}=document,ie=ee.value;ye===!0&&ie!==null&&ie!==Ie&&ie.contains(Ie)===!0&&(ie.addEventListener("focusout",V),setTimeout(()=>{ie!==null&&ie.removeEventListener("focusout",V)})),Gn(ie,k-A);const Ne=q!==void 0?g.slice(A,k).reduce(Oe,0):0;if(ye===!0){const me=Y>=F.value.from&&A<=F.value.to?F.value.to:Y;F.value={from:A,to:me},M.value=Te(_,g,0,A),z.value=Te(_,g,Y,e.value),requestAnimationFrame(()=>{F.value.to!==Y&&w===S.scrollStart&&(F.value={from:F.value.from,to:Y},z.value=Te(_,g,Y,e.value))})}requestAnimationFrame(()=>{if(w!==S.scrollStart)return;ye===!0&&p(A);const me=g.slice(A,k).reduce(Oe,0),xe=me+S.offsetStart+M.value,He=xe+g[k];let Ee=xe+L;if(q!==void 0){const Xe=me-Ne,G=S.scrollStart+Xe;Ee=$!==!0&&G<xe&&He<G+S.scrollViewSize?G:q==="end"?He-S.scrollViewSize:xe-(q==="start"?0:Math.round((S.scrollViewSize-g[k])/2))}w=Ee,Ft(c,Ee,n.virtualScrollHorizontal,d.lang.rtl),ue(k)})}function p(c){const S=ee.value;if(S){const k=bl.call(S.children,A=>A.classList&&A.classList.contains("q-virtual-scroll--skip")===!1),L=k.length,j=n.virtualScrollHorizontal===!0?A=>A.getBoundingClientRect().width:A=>A.offsetHeight;let $=c,q,K;for(let A=0;A<L;){for(q=j(k[A]),A++;A<L&&k[A].classList.contains("q-virtual-scroll--with-prev")===!0;)q+=j(k[A]),A++;K=q-g[$],K!==0&&(g[$]+=K,_[Math.floor($/oe)]+=K),$++}}}function V(){ee.value!==null&&ee.value!==void 0&&ee.value.focus()}function te(c,S){const k=1*u.value;(S===!0||Array.isArray(g)===!1)&&(g=[]);const L=g.length;g.length=e.value;for(let $=e.value-1;$>=L;$--)g[$]=k;const j=Math.floor((e.value-1)/oe);_=[];for(let $=0;$<=j;$++){let q=0;const K=Math.min(($+1)*oe,e.value);for(let A=$*oe;A<K;A++)q+=g[A];_.push(q)}v=-1,w=void 0,M.value=Te(_,g,0,F.value.from),z.value=Te(_,g,F.value.to,e.value),c>=0?(p(F.value.from),de(()=>{se(c)})):H()}function W(c){if(c===void 0&&typeof window!="undefined"){const q=a();q!=null&&q.nodeType!==8&&(c=it(q,l(),R.value,D.value,n.virtualScrollHorizontal,d.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd).scrollViewSize)}C=c;const S=parseFloat(n.virtualScrollSliceRatioBefore)||0,k=parseFloat(n.virtualScrollSliceRatioAfter)||0,L=1+S+k,j=c===void 0||c<=0?1:Math.ceil(c/u.value),$=Math.max(1,j,Math.ceil((n.virtualScrollSliceSize>0?n.virtualScrollSliceSize:10)/L));b.value={total:Math.ceil($*L),start:Math.ceil($*S),center:Math.ceil($*(.5+S)),end:Math.ceil($*(1+S)),view:j}}function ve(c,S){const k=n.virtualScrollHorizontal===!0?"width":"height",L={["--q-virtual-scroll-item-"+k]:u.value+"px"};return[c==="tbody"?y(c,{class:"q-virtual-scroll__padding",key:"before",ref:R},[y("tr",[y("td",{style:{[k]:`${M.value}px`,...L},colspan:I.value})])]):y(c,{class:"q-virtual-scroll__padding",key:"before",ref:R,style:{[k]:`${M.value}px`,...L}}),y(c,{class:"q-virtual-scroll__content",key:"content",ref:ee,tabindex:-1},S.flat()),c==="tbody"?y(c,{class:"q-virtual-scroll__padding",key:"after",ref:D},[y("tr",[y("td",{style:{[k]:`${z.value}px`,...L},colspan:I.value})])]):y(c,{class:"q-virtual-scroll__padding",key:"after",ref:D,style:{[k]:`${z.value}px`,...L}})]}function ue(c){v!==c&&(n.onVirtualScroll!==void 0&&h("virtualScroll",{index:c,from:F.value.from,to:F.value.to-1,direction:c<v?"decrease":"increase",ref:r}),v=c)}W();const H=Dl(ae,d.platform.is.ios===!0?120:35);Pl(()=>{W()});let m=!1;return Nl(()=>{m=!0}),Hl(()=>{if(m!==!0)return;const c=a();w!==void 0&&c!==void 0&&c!==null&&c.nodeType!==8?Ft(c,w,n.virtualScrollHorizontal,d.lang.rtl):se(v)}),Qt(()=>{H.cancel()}),Object.assign(r,{scrollTo:se,reset:N,refresh:ne}),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:b,setVirtualScrollSize:W,onVirtualScrollEvt:H,localResetVirtualScroll:te,padVirtualScroll:ve,scrollTo:se,reset:N,refresh:ne}}const Lt=e=>["add","add-unique","toggle"].includes(e),au=".*+?^${}()|[]\\",nu=Object.keys(vt);var uu=Be({name:"QSelect",inheritAttrs:!1,props:{...tu,...jl,...vt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Lt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ht,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:a,emit:l}){const{proxy:u}=ze(),{$q:f}=u,n=T(!1),h=T(!1),r=T(-1),d=T(""),w=T(!1),v=T(!1);let C,_,g,M,z,b,R,D,ee;const F=T(null),I=T(null),O=T(null),U=T(null),N=T(null),ne=Ul(e),se=Kl(kt),ae=o(()=>Array.isArray(e.options)?e.options.length:0),Q=o(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:p,virtualScrollSliceSizeComputed:V,localResetVirtualScroll:te,padVirtualScroll:W,onVirtualScrollEvt:ve,scrollTo:ue,setVirtualScrollSize:H}=lu({virtualScrollLength:ae,getVirtualScrollTarget:xl,getVirtualScrollEl:Ct,virtualScrollItemSizeComputed:Q}),m=Ut(),c=o(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const i=e.mapOptions===!0&&_!==void 0?_:[],x=s.map(E=>yl(E,i));return e.modelValue===null&&t===!0?x.filter(E=>E!==null):x}return s}),S=o(()=>{const t={};return nu.forEach(s=>{const i=e[s];i!==void 0&&(t[s]=i)}),t}),k=o(()=>e.optionsDark===null?m.isDark.value:e.optionsDark),L=o(()=>Rt(c.value)),j=o(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||c.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),$=o(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),q=o(()=>ae.value===0),K=o(()=>c.value.map(t=>le.value(t)).join(", ")),A=o(()=>e.displayValue!==void 0?e.displayValue:K.value),Y=o(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),ye=o(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||c.value.some(Y.value))),Ie=o(()=>m.focused.value===!0?e.tabindex:-1),ie=o(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":n.value===!0?"true":"false","aria-controls":`${m.targetUid.value}_lb`};return r.value>=0&&(t["aria-activedescendant"]=`${m.targetUid.value}_${r.value}`),t}),Ne=o(()=>({id:`${m.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=o(()=>c.value.map((t,s)=>({index:s,opt:t,html:Y.value(t),selected:!0,removeAtIndex:Sl,toggleOption:ge,tabindex:Ie.value}))),xe=o(()=>{if(ae.value===0)return[];const{from:t,to:s}=p.value;return e.options.slice(t,s).map((i,x)=>{const E=Ce.value(i)===!0,B=t+x,P={clickable:!0,active:!1,activeClass:Xe.value,manualFocus:!0,focused:!1,disable:E,tabindex:-1,dense:e.optionsDense,dark:k.value,role:"option",id:`${m.targetUid.value}_${B}`,onClick:()=>{ge(i)}};return E!==!0&&(et(i)===!0&&(P.active=!0),r.value===B&&(P.focused=!0),P["aria-selected"]=P.active===!0?"true":"false",f.platform.is.desktop===!0&&(P.onMousemove=()=>{n.value===!0&&we(B)})),{index:B,opt:i,html:Y.value(i),label:le.value(i),selected:P.active,focused:P.focused,toggleOption:ge,setOptionIndex:we,itemProps:P}})}),He=o(()=>e.dropdownIcon!==void 0?e.dropdownIcon:f.iconSet.arrow.dropdown),Ee=o(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Xe=o(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),G=o(()=>Ge(e.optionValue,"value")),le=o(()=>Ge(e.optionLabel,"label")),Ce=o(()=>Ge(e.optionDisable,"disable")),je=o(()=>c.value.map(t=>G.value(t))),hl=o(()=>{const t={onInput:kt,onChange:se,onKeydown:xt,onKeyup:St,onKeypress:yt,onFocus:bt,onClick(s){g===!0&&_e(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=se,t});re(c,t=>{_=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&m.innerLoading.value!==!0&&(h.value!==!0&&n.value!==!0||L.value!==!0)&&(M!==!0&&qe(),(h.value===!0||n.value===!0)&&ke(""))},{immediate:!0}),re(()=>e.fillInput,qe),re(n,tt),re(ae,Ol);function mt(t){return e.emitValue===!0?G.value(t):t}function Ye(t){if(t>-1&&t<c.value.length)if(e.multiple===!0){const s=e.modelValue.slice();l("remove",{index:t,value:s.splice(t,1)[0]}),l("update:modelValue",s)}else l("update:modelValue",null)}function Sl(t){Ye(t),m.focus()}function gt(t,s){const i=mt(t);if(e.multiple!==!0){e.fillInput===!0&&Fe(le.value(t),!0,!0),l("update:modelValue",i);return}if(c.value.length===0){l("add",{index:0,value:i}),l("update:modelValue",e.multiple===!0?[i]:i);return}if(s===!0&&et(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const x=e.modelValue.slice();l("add",{index:x.length,value:i}),x.push(i),l("update:modelValue",x)}function ge(t,s){if(m.editable.value!==!0||t===void 0||Ce.value(t)===!0)return;const i=G.value(t);if(e.multiple!==!0){s!==!0&&(Fe(e.fillInput===!0?le.value(t):"",!0,!0),be()),I.value!==null&&I.value.focus(),(c.value.length===0||Le(G.value(c.value[0]),i)!==!0)&&l("update:modelValue",e.emitValue===!0?i:t);return}if((g!==!0||w.value===!0)&&m.focus(),bt(),c.value.length===0){const B=e.emitValue===!0?i:t;l("add",{index:0,value:B}),l("update:modelValue",e.multiple===!0?[B]:B);return}const x=e.modelValue.slice(),E=je.value.findIndex(B=>Le(B,i));if(E>-1)l("remove",{index:E,value:x.splice(E,1)[0]});else{if(e.maxValues!==void 0&&x.length>=e.maxValues)return;const B=e.emitValue===!0?i:t;l("add",{index:x.length,value:B}),x.push(B)}l("update:modelValue",x)}function we(t){if(f.platform.is.desktop!==!0)return;const s=t>-1&&t<ae.value?t:-1;r.value!==s&&(r.value=s)}function Ue(t=1,s){if(n.value===!0){let i=r.value;do i=Mt(i+t,-1,ae.value-1);while(i!==-1&&i!==r.value&&Ce.value(e.options[i])===!0);r.value!==i&&(we(i),ue(i),s!==!0&&e.useInput===!0&&e.fillInput===!0&&Qe(i>=0?le.value(e.options[i]):b))}}function yl(t,s){const i=x=>Le(G.value(x),t);return e.options.find(i)||s.find(i)||t}function Ge(t,s){const i=t!==void 0?t:s;return typeof i=="function"?i:x=>x!==null&&typeof x=="object"&&i in x?x[i]:x}function et(t){const s=G.value(t);return je.value.find(i=>Le(i,s))!==void 0}function bt(t){e.useInput===!0&&I.value!==null&&(t===void 0||I.value===t.target&&t.target.value===K.value)&&I.value.select()}function ht(t){Wt(t,27)===!0&&n.value===!0&&(_e(t),be(),qe()),l("keyup",t)}function St(t){const{value:s}=t.target;if(t.keyCode!==void 0){ht(t);return}if(t.target.value="",clearTimeout(C),qe(),typeof s=="string"&&s.length>0){const i=s.toLocaleLowerCase(),x=B=>{const P=e.options.find(J=>B.value(J).toLocaleLowerCase()===i);return P===void 0?!1:(c.value.indexOf(P)===-1?ge(P):be(),!0)},E=B=>{x(G)!==!0&&(x(le)===!0||B===!0||ke(s,!0,()=>E(!0)))};E()}else m.clearValue(t)}function yt(t){l("keypress",t)}function xt(t){if(l("keydown",t),Zl(t)===!0)return;const s=d.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),i=t.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||s===!0);if(t.keyCode===27){at(t);return}if(t.keyCode===9&&i===!1){pe();return}if(t.target===void 0||t.target.id!==m.targetUid.value)return;if(t.keyCode===40&&m.innerLoading.value!==!0&&n.value===!1){he(t),Ve();return}if(t.keyCode===8&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ye(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(he(t),r.value=-1,Ue(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&V.value!==void 0&&(he(t),r.value=Math.max(-1,Math.min(ae.value,r.value+(t.keyCode===33?-1:1)*V.value.view)),Ue(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(he(t),Ue(t.keyCode===38?-1:1,e.multiple));const x=ae.value;if((D===void 0||ee<Date.now())&&(D=""),x>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||D.length>0)){n.value!==!0&&Ve(t);const E=t.key.toLocaleLowerCase(),B=D.length===1&&D[0]===E;ee=Date.now()+1500,B===!1&&(he(t),D+=E);const P=new RegExp("^"+D.split("").map(lt=>au.indexOf(lt)>-1?"\\"+lt:lt).join(".*"),"i");let J=r.value;if(B===!0||J<0||P.test(le.value(e.options[J]))!==!0)do J=Mt(J+1,-1,x-1);while(J!==r.value&&(Ce.value(e.options[J])===!0||P.test(le.value(e.options[J]))!==!0));r.value!==J&&de(()=>{we(J),ue(J),J>=0&&e.useInput===!0&&e.fillInput===!0&&Qe(le.value(e.options[J]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||D!=="")&&(t.keyCode!==9||i===!1))){if(t.keyCode!==9&&he(t),r.value>-1&&r.value<x){ge(e.options[r.value]);return}if(s===!0){const E=(B,P)=>{if(P){if(Lt(P)!==!0)return}else P=e.newValueMode;if(B==null)return;Fe("",e.multiple!==!0,!0),(P==="toggle"?ge:gt)(B,P==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),be())};if(e.onNewValue!==void 0?l("newValue",d.value,E):E(d.value),e.multiple!==!0)return}n.value===!0?pe():m.innerLoading.value!==!0&&Ve()}}function Ct(){return g===!0?N.value:O.value!==null&&O.value.contentEl!==null?O.value.contentEl:void 0}function xl(){return Ct()}function Cl(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?me.value.map(t=>a["selected-item"](t)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?me.value.map((t,s)=>y(Xn,{key:"option-"+s,removable:m.editable.value===!0&&Ce.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ie.value,onRemove(){t.removeAtIndex(s)}},()=>y("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:le.value(t.opt)}))):[y("span",{[ye.value===!0?"innerHTML":"textContent"]:A.value})]}function wt(){if(q.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:d.value}):void 0;const t=a.option!==void 0?a.option:i=>y(ma,{key:i.index,...i.itemProps},()=>y(fa,()=>y(va,()=>y("span",{[i.html===!0?"innerHTML":"textContent"]:i.label}))));let s=W("div",xe.value.map(t));return a["before-options"]!==void 0&&(s=a["before-options"]().concat(s)),Pt(a["after-options"],s)}function wl(t,s){const i=s===!0?{...ie.value,...m.splitAttrs.attributes.value}:void 0,x={ref:s===!0?I:void 0,key:"i_t",class:j.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...i,id:s===!0?m.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...hl.value};return t!==!0&&g===!0&&(Array.isArray(x.class)===!0?x.class=[...x.class,"no-pointer-events"]:x.class+=" no-pointer-events"),y("input",x)}function kt(t){clearTimeout(C),!(t&&t.target&&t.target.qComposing===!0)&&(Qe(t.target.value||""),M=!0,b=d.value,m.focused.value!==!0&&(g!==!0||w.value===!0)&&m.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{ke(d.value)},e.inputDebounce)))}function Qe(t){d.value!==t&&(d.value=t,l("inputValue",t))}function Fe(t,s,i){M=i!==!0,e.useInput===!0&&(Qe(t),(s===!0||i!==!0)&&(b=t),s!==!0&&ke(t))}function ke(t,s,i){if(e.onFilter===void 0||s!==!0&&m.focused.value!==!0)return;m.innerLoading.value===!0?l("filterAbort"):(m.innerLoading.value=!0,v.value=!0),t!==""&&e.multiple!==!0&&c.value.length>0&&M!==!0&&t===le.value(c.value[0])&&(t="");const x=setTimeout(()=>{n.value===!0&&(n.value=!1)},10);clearTimeout(z),z=x,l("filter",t,(E,B)=>{(s===!0||m.focused.value===!0)&&z===x&&(clearTimeout(z),typeof E=="function"&&E(),v.value=!1,de(()=>{m.innerLoading.value=!1,m.editable.value===!0&&(s===!0?n.value===!0&&be():n.value===!0?tt(!0):n.value=!0),typeof B=="function"&&de(()=>{B(u)}),typeof i=="function"&&de(()=>{i(u)})}))},()=>{m.focused.value===!0&&z===x&&(clearTimeout(z),m.innerLoading.value=!1,v.value=!1),n.value===!0&&(n.value=!1)})}function kl(){return y(ga,{ref:O,class:$.value,style:e.popupContentStyle,modelValue:n.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&q.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:k.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ee.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ne.value,onScrollPassive:ve,onBeforeShow:Vt,onBeforeHide:pl,onShow:Vl},wt)}function pl(t){qt(t),pe()}function Vl(){H()}function ql(t){_e(t),I.value!==null&&I.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function _l(t){_e(t),de(()=>{w.value=!1})}function Al(){const t=[y(Zn,{class:`col-auto ${m.fieldClass.value}`,...S.value,for:m.targetUid.value,dark:k.value,square:!0,loading:v.value,itemAligned:!1,filled:!0,stackLabel:d.value.length>0,...m.splitAttrs.listeners.value,onFocus:ql,onBlur:_l},{...a,rawControl:()=>m.getControl(!0),before:void 0,after:void 0})];return n.value===!0&&t.push(y("div",{ref:N,class:$.value+" scroll",style:e.popupContentStyle,...Ne.value,onClick:at,onScrollPassive:ve},wt())),y(Jl,{ref:U,modelValue:h.value,position:e.useInput===!0?"top":void 0,transitionShow:R,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Vt,onBeforeHide:Rl,onHide:$l,onShow:Ml},()=>y("div",{class:"q-select__dialog"+(k.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},t))}function Rl(t){qt(t),U.value!==null&&U.value.__updateRefocusTarget(m.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),m.focused.value=!1}function $l(t){be(),m.focused.value===!1&&l("blur",t),qe()}function Ml(){const t=document.activeElement;(t===null||t.id!==m.targetUid.value)&&I.value!==null&&I.value!==t&&I.value.focus(),H()}function pe(){h.value!==!0&&(r.value=-1,n.value===!0&&(n.value=!1),m.focused.value===!1&&(clearTimeout(z),z=void 0,m.innerLoading.value===!0&&(l("filterAbort"),m.innerLoading.value=!1,v.value=!1)))}function Ve(t){m.editable.value===!0&&(g===!0?(m.onControlFocusin(t),h.value=!0,de(()=>{m.focus()})):m.focus(),e.onFilter!==void 0?ke(d.value):(q.value!==!0||a["no-option"]!==void 0)&&(n.value=!0))}function be(){h.value=!1,pe()}function qe(){e.useInput===!0&&Fe(e.multiple!==!0&&e.fillInput===!0&&c.value.length>0&&le.value(c.value[0])||"",!0,!0)}function tt(t){let s=-1;if(t===!0){if(c.value.length>0){const i=G.value(c.value[0]);s=e.options.findIndex(x=>Le(G.value(x),i))}te(s)}we(s)}function Ol(t,s){n.value===!0&&m.innerLoading.value===!1&&(te(-1,!0),de(()=>{n.value===!0&&m.innerLoading.value===!1&&(t>s?te():tt(!0))}))}function pt(){h.value===!1&&O.value!==null&&O.value.updatePosition()}function Vt(t){t!==void 0&&_e(t),l("popupShow",t),m.hasPopupOpen=!0,m.onControlFocusin(t)}function qt(t){t!==void 0&&_e(t),l("popupHide",t),m.hasPopupOpen=!1,m.onControlFocusout(t)}function _t(){g=f.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||q.value===!1:!0),R=f.platform.is.ios===!0&&g===!0&&e.useInput===!0?"fade":e.transitionShow}return Ql(_t),Wl(pt),_t(),Qt(()=>{clearTimeout(C)}),Object.assign(u,{showPopup:Ve,hidePopup:be,removeAtIndex:Ye,add:gt,toggleOption:ge,getOptionIndex:()=>r.value,setOptionIndex:we,moveOptionSelection:Ue,filter:ke,updateMenuPosition:pt,updateInputValue:Fe,isOptionSelected:et,getEmittingOptionValue:mt,isOptionDisabled:(...t)=>Ce.value.apply(null,t)===!0,getOptionValue:(...t)=>G.value.apply(null,t),getOptionLabel:(...t)=>le.value.apply(null,t)}),Object.assign(m,{innerValue:c,fieldClass:o(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:F,targetRef:I,hasValue:L,showPopup:Ve,floatingLabel:o(()=>e.hideSelected!==!0&&L.value===!0||typeof d.value=="number"||d.value.length>0||Rt(e.displayValue)),getControlChild:()=>{if(m.editable.value!==!1&&(h.value===!0||q.value!==!0||a["no-option"]!==void 0))return g===!0?Al():kl();m.hasPopupOpen===!0&&(m.hasPopupOpen=!1)},controlEvents:{onFocusin(t){m.onControlFocusin(t)},onFocusout(t){m.onControlFocusout(t,()=>{qe(),pe()})},onClick(t){if(at(t),g!==!0&&n.value===!0){pe(),I.value!==null&&I.value.focus();return}Ve(t)}},getControl:t=>{const s=Cl(),i=t===!0||h.value!==!0||g!==!0;if(e.useInput===!0)s.push(wl(t,i));else if(m.editable.value===!0){const E=i===!0?ie.value:void 0;s.push(y("input",{ref:i===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:i===!0?m.targetUid.value:void 0,value:A.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...E,onKeydown:xt,onKeyup:ht,onKeypress:yt})),i===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&s.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:St}))}if(ne.value!==void 0&&e.disable!==!0&&je.value.length>0){const E=je.value.map(B=>y("option",{value:B,selected:!0}));s.push(y("select",{class:"hidden",name:ne.value,multiple:e.multiple},E))}const x=e.useInput===!0||i!==!0?void 0:m.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...x},s)},getInnerAppend:()=>e.loading!==!0&&v.value!==!0&&e.hideDropdownIcon!==!0?[y(Me,{class:"q-select__dropdown-icon"+(n.value===!0?" rotate-180":""),name:He.value})]:null}),jt(m)}});function We(e,a){return[!0,!1].includes(e)?e:a}var ou=Be({name:"QPagination",props:{...Ze,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||Xl.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:a}){const{proxy:l}=ze(),{$q:u}=l,f=Je(e,u),n=o(()=>parseInt(e.min,10)),h=o(()=>parseInt(e.max,10)),r=o(()=>parseInt(e.maxPages,10)),d=o(()=>M.value+" / "+h.value),w=o(()=>We(e.boundaryLinks,e.input)),v=o(()=>We(e.boundaryNumbers,!e.input)),C=o(()=>We(e.directionLinks,e.input)),_=o(()=>We(e.ellipses,!e.input)),g=T(null),M=o({get:()=>e.modelValue,set:p=>{if(p=parseInt(p,10),e.disable||isNaN(p))return;const V=ba(p,n.value,h.value);e.modelValue!==V&&a("update:modelValue",V)}});re(()=>`${n.value}|${h.value}`,()=>{M.value=e.modelValue});const z=o(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),b=o(()=>e.gutter in $t?`${$t[e.gutter]}px`:e.gutter||null),R=o(()=>b.value!==null?`--q-pagination-gutter-parent:-${b.value};--q-pagination-gutter-child:${b.value}`:null),D=o(()=>{const p=[e.iconFirst||u.iconSet.pagination.first,e.iconPrev||u.iconSet.pagination.prev,e.iconNext||u.iconSet.pagination.next,e.iconLast||u.iconSet.pagination.last];return u.lang.rtl===!0?p.reverse():p}),ee=o(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),F=o(()=>Yl(e,"flat")),I=o(()=>({[F.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),O=o(()=>{const p={[F.value]:!1};return e.activeDesign!==""&&(p[e.activeDesign]=!0),p}),U=o(()=>({...O.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),N=o(()=>{let p=Math.max(r.value,1+(_.value?2:0)+(v.value?2:0));const V={pgFrom:n.value,pgTo:h.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(h.value).length)}em`}};return r.value&&p<h.value-n.value+1&&(p=1+Math.floor(p/2)*2,V.pgFrom=Math.max(n.value,Math.min(h.value-p+1,e.modelValue-Math.floor(p/2))),V.pgTo=Math.min(h.value,V.pgFrom+p-1),v.value&&(V.boundaryStart=!0,V.pgFrom++),_.value&&V.pgFrom>n.value+(v.value?1:0)&&(V.ellipsesStart=!0,V.pgFrom++),v.value&&(V.boundaryEnd=!0,V.pgTo--),_.value&&V.pgTo<h.value-(v.value?1:0)&&(V.ellipsesEnd=!0,V.pgTo--)),V});function ne(p){M.value=p}function se(p){M.value=M.value+p}const ae=o(()=>{function p(){M.value=g.value,g.value=null}return{"onUpdate:modelValue":V=>{g.value=V},onKeyup:V=>{Wt(V,13)===!0&&p()},onBlur:p}});function Q(p,V,te){const W={"aria-label":V,"aria-current":"false",...I.value,...p};return te===!0&&Object.assign(W,{"aria-current":"true",...U.value}),V!==void 0&&(e.toFn!==void 0?W.to=e.toFn(V):W.onClick=()=>{ne(V)}),y(Gl,W)}return Object.assign(l,{set:ne,setByOffset:se}),()=>{const p=[],V=[];let te;if(w.value===!0&&(p.push(Q({key:"bls",disable:e.disable||e.modelValue<=n.value,icon:D.value[0]},n.value)),V.unshift(Q({key:"ble",disable:e.disable||e.modelValue>=h.value,icon:D.value[3]},h.value))),C.value===!0&&(p.push(Q({key:"bdp",disable:e.disable||e.modelValue<=n.value,icon:D.value[1]},e.modelValue-1)),V.unshift(Q({key:"bdn",disable:e.disable||e.modelValue>=h.value,icon:D.value[2]},e.modelValue+1))),e.input!==!0){te=[];const{pgFrom:W,pgTo:ve,marginalStyle:ue}=N.value;if(N.value.boundaryStart===!0){const H=n.value===e.modelValue;p.push(Q({key:"bns",style:ue,disable:e.disable,label:n.value},n.value,H))}if(N.value.boundaryEnd===!0){const H=h.value===e.modelValue;V.unshift(Q({key:"bne",style:ue,disable:e.disable,label:h.value},h.value,H))}N.value.ellipsesStart===!0&&p.push(Q({key:"bes",style:ue,disable:e.disable,label:"\u2026",ripple:!1},W-1)),N.value.ellipsesEnd===!0&&V.unshift(Q({key:"bee",style:ue,disable:e.disable,label:"\u2026",ripple:!1},ve+1));for(let H=W;H<=ve;H++)te.push(Q({key:`bpg${H}`,style:ue,disable:e.disable,label:H},H,H===e.modelValue))}return y("div",{class:z.value,...ee.value},[y("div",{class:"q-pagination__content row no-wrap items-center",style:R.value},[...p,e.input===!0?y(Kt,{class:"inline",style:{width:`${d.value.length/1.5}em`},type:"number",dense:!0,value:g.value,disable:e.disable,dark:f.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:d.value,min:n.value,max:h.value,...ae.value}):y("div",{class:"q-pagination__middle row justify-center"},te),...V])])}}});function iu(e,a=0){return Intl.NumberFormat(void 0,{maximumFractionDigits:a,minimumFractionDigits:a}).format(e||0)}const ru={class:"q-table__bottom row items-center justify-between q-gutter-x-md"},su={class:"row"},cu={class:"row q-gutter-x-md"},du={class:"q-table__control"},fu=Z("span",{class:"q-table__bottom-item"},"Records per page:",-1),vu={class:"q-table__control"},mu={class:"q-table__bottom-item gt-sm"},gu={__name:"DatatablePagination",props:{pagination:Object,totalRows:Number,maxPages:{type:Number,default:6}},emits:["reload"],setup(e,{emit:a}){const l=e,u=[15,50,100,200],f=o(()=>1+l.pagination.page*l.pagination.take-l.pagination.take),n=o(()=>Math.min(l.totalRows,f.value-1+l.pagination.take)),h=r=>{r&&(l.pagination.page=1),a("reload")};return(r,d)=>(X(),ce("div",ru,[Z("div",su,[De(r.$slots,"default")]),Z("div",cu,[Z("div",du,[fu,fe(uu,{modelValue:e.pagination.take,"onUpdate:modelValue":[d[0]||(d[0]=w=>e.pagination.take=w),d[1]||(d[1]=w=>h(!0))],options:u,borderless:"",dense:""},null,8,["modelValue"])]),Z("div",vu,[Z("span",mu," Showing "+Pe(Se(f))+" to "+Pe(Se(n))+" of "+Pe(Se(iu)(e.totalRows))+" rows ",1),fe(ou,{modelValue:e.pagination.page,"onUpdate:modelValue":[d[2]||(d[2]=w=>e.pagination.page=w),d[3]||(d[3]=w=>h(!1))],max:Math.ceil(e.totalRows/e.pagination.take),"max-pages":e.maxPages,"direction-links":"","boundary-links":""},null,8,["modelValue","max","max-pages"])])])]))}},bu={__name:"RowSelectionRenderer",props:{row:Object,selectionMap:Object},setup(e){const a=e,l=o({get:()=>a.selectionMap.has(a.row.id)||!1,set:u=>{u?a.selectionMap.set(a.row.id,a.row):a.selectionMap.delete(a.row.id)}});return(u,f)=>{const n=Zt("form-input");return X(),ce("div",null,[fe(n,{modelValue:Se(l),"onUpdate:modelValue":f[0]||(f[0]=h=>ea(l)?l.value=h:null),type:"checkbox",size:"xs"},null,8,["modelValue"])])}}};function hu(e="id",a){return new yu(e,a)}function Su(e="actions"){return hu(e).setUnsortable().setCompact().setCenter().setClasses("actions text-center")}class yu{constructor(a,l=""){this.field=a,this.label=l||Nn(a),this.align="left",this.headerStyle=void 0,this.classes=[],this.sortable=!0,this.visible=!0,this.format=void 0,this.renderComponent=null}setCenter(){return this.align="center",this.classes.push("text-center"),this}setHeaderStyle(a,l){return this.headerStyle||(this.headerStyle={}),this.headerStyle[a]=l,this}setClasses(a){return this.classes=ta(a)?a:[a],this}setCompact(){return this.setHeaderStyle("width","1px"),this}setUnsortable(){return this.sortable=!1,this}setVisible(a){return this.visible=a,this}hideOnTinyScreens(){return this.classes.push("gt-xs"),this}hideOnMediumScreens(){return this.classes.push("gt-md"),this}setCustomFormatter(a){return this.format=a,this}setRendererComponent(a){return this.renderComponent=la(a),this}}const xu={class:"row q-col-gutter-x-lg item-center"},Cu={class:"col-12"},wu={class:"row q-col-gutter-xs justify-end"},ku={class:"col-12 col-xs-auto"},pu={class:"col-12 col-xl"},Vu={class:"row q-col-gutter-xs justify-end"},qu={style:{height:"2px"}},_u={key:1,class:"row justify-center"},Mu={__name:"Datatable",props:{url:String,columns:Array,columnVisibilities:Object,sendData:Object,paginationDefaults:Object,noAutofocus:Boolean,noFilterControls:Boolean,selectionMap:Object,rowKey:{type:String,default:"id"}},setup(e,{expose:a}){const l=e;console.log(23),console.log(l);const u=T(!0),f=T(),n=T(0),h=T({}),r=aa({sort_by:"id",descending:!1,page:1,take:15,...l.paginationDefaults}),d=T([]),w=l.selectionMap?Su("select").setRendererComponent(bu):null,v=o(()=>{let g=l.columns.slice();return l.selectionMap&&g.unshift(w),g.filter(M=>{var z;return((z=l.columnVisibilities)==null?void 0:z[M.field])!==!1&&M.visible})}),C=async()=>{u.value=!0;const g=await da(l.url,{...l.sendData,quicksearch:f.value,...r,skip:(r.page-1)*r.take});d.value.splice(0,d.value.length,...g.data),n.value=g.total,h.value=g,u.value=!1},_=Dn(C,500);return re(f,()=>{u.value=!0,_()}),na(l.sendData)&&re(l.sendData,_),re(()=>l.url,_),ua(C),a({fetchData:C}),(g,M)=>{const z=Zt("placeholder");return X(),Re(ca,{flat:""},{default:Ae(()=>[fe(oa,null,{default:Ae(()=>[Z("div",xu,[Z("div",Cu,[Z("div",wu,[De(g.$slots,"summary",ia(ra(h.value)))])]),Z("div",ku,[fe(Kt,{modelValue:f.value,"onUpdate:modelValue":M[0]||(M[0]=b=>f.value=b),borderless:"",dense:"",placeholder:"Search",autofocus:!e.noAutofocus},{append:Ae(()=>[fe(Me,{name:"search"})]),_:1},8,["modelValue","autofocus"])]),Z("div",pu,[Z("div",Vu,[De(g.$slots,"controls")])])])]),_:3}),Z("div",qu,[u.value?(X(),Re(jn,{key:0,indeterminate:"",size:"2px"})):st("",!0)]),fe(Qn,{class:"q-mb-none",bordered:"",flat:"","wrap-cells":""},{default:Ae(()=>[Z("thead",null,[Z("tr",null,[(X(!0),ce(nt,null,ut(Se(v),b=>(X(),Re(Kn,{key:b.name,col:b,pagination:r,onReload:C},null,8,["col","pagination"]))),128))])]),Z("tbody",null,[(X(!0),ce(nt,null,ut(d.value,b=>(X(),ce("tr",{key:b[e.rowKey]},[(X(!0),ce(nt,null,ut(Se(v),R=>(X(),ce("td",{key:R.name,class:Nt(R.classes)},[R.renderComponent?(X(),Re(sa(R.renderComponent),{key:0,value:b[R.field],row:b,column:R},null,8,["value","row","column"])):De(g.$slots,`column-${R.field}`,{key:1,value:b[R.field],row:b,column:R},()=>[rt(Pe(R.format?R.format(b[R.field],b):b[R.field]),1)])],2))),128))]))),128))])]),_:3}),n.value>r.take?(X(),Re(gu,{key:0,pagination:r,"total-rows":n.value,onReload:C},{default:Ae(()=>[De(g.$slots,"pagination-left-section")]),_:3},8,["pagination","total-rows"])):!n.value&&!u.value?(X(),ce("div",_u,[fe(z,null,{default:Ae(()=>[rt(" No matching records found ")]),_:1})])):st("",!0)]),_:3})}}};export{Mu as _,Su as a,hu as c};
